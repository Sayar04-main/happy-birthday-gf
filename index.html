<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday, My Love!</title>
  <style>
    @keyframes float {
      0%   { transform: translateY(0) scale(1);}
      50%  { transform: translateY(-30px) scale(1.15);}
      100% { transform: translateY(0) scale(1);}
    }
    @keyframes fadeIn {
      from { opacity: 0;}
      to   { opacity: 1;}
    }
    @keyframes confetti {
      0%   { transform: translateY(-100vh) rotate(0);}
      100% { transform: translateY(100vh) rotate(360deg);}
    }
    body {
      background: linear-gradient(120deg,#ffb6c1 0%,#ffe4e1 100%);
      color: #333;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0; padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .heart-anim {
      font-size: 76px;
      color: #ff69b4;
      margin: 40px 0 20px 0;
      animation: float 2.2s ease-in-out infinite;
    }
    .container {
      background: rgba(255,255,255,0.88);
      border-radius: 18px;
      display: inline-block;
      box-shadow: 0 2px 20px rgba(0,0,0,0.06);
      padding: 38px 32px;
      margin-top: 18px;
      max-width: 390px;
      animation: fadeIn 1.5s ease;
      text-align: center;
    }
    h1 {
      font-size: 2.5em;
      color: #d72660;
      text-shadow: 1px 1px #fff2, 2px 2px #f3c;
    }
    p { font-size: 1.25em;}
    .music-btn, .qbtn {
      margin-top: 20px;
      padding: 11px 24px;
      font-size: 1em;
      border-radius: 8px;
      background: #fb6dd3;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }
    .music-btn:hover, .qbtn:hover {
      background: #d72660;
    }
    .question, .response {
      margin-top: 25px;
      animation: fadeIn 1s;
    }
    .teddies-row {
      font-size: 36px;
      margin: 12px 0 2px 0;
      letter-spacing: 4px;
    }
    .qbtn {
      margin: 12px 14px 0 14px;
      transition: font-size 0.4s, padding 0.4s, width 0.4s, height 0.4s;
      z-index: 10;
      position: relative;
    }
    .qbtn.bigger {
      font-size: 2.5em !important;
      padding: 30px 50px !important;
      background: #fff6e6 !important;
      color: #d72660 !important;
      animation: bounce 0.4s;
    }
    .qbtn.huge {
      font-size: 3.2em !important;
      padding: 48px 100px !important;
      width: 340px !important;
      height: 146px !important;
      background: #fff6e6 !important;
      color: #bf14ba !important;
      z-index: 15;
      position: relative;
      box-shadow: 0 0 44px #ddaaff88;
      animation: bounce 0.7s;
    }
    .qbtn.hide {
      display: none !important;
    }
    @keyframes bounce {
      0%   { transform: scale(1);}
      40%  { transform: scale(1.25);}
      60%  { transform: scale(0.93);}
      100% { transform: scale(1);}
    }
    .confetti {
      position: fixed;
      top: -30px;
      width: 20px; height: 20px;
      font-size: 24px;
      opacity: 0.92;
      pointer-events: none;
      animation: confetti 1.5s linear forwards;
      z-index: 99;
    }
  </style>
</head>
<body>
  <div class="container" id="main-container">
    <div class="heart-anim">ðŸ’–</div>
    <h1>Happy Birthday!</h1>
    <p>
      To my dearest love,<br>
      I planned a little surprise for you.<br>
      Click the button below to begin!
    </p>
    <div style="font-size:60px; margin:13px;">ðŸŽ‚</div>
    <button class="music-btn" onclick="startMusic()">ðŸ”Š Play Birthday Song</button>
    <!-- Replace music with a happy birthday song (plays on first click/interaction) -->
    <audio id="bgmusic" loop>
      <source src="https://cdn.pixabay.com/audio/2023/03/04/audio_128b8611ce.mp3" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
    <br>
    <button class="qbtn" id="start-btn" onclick="showQuestion()">Start Birthday Surprise</button>
    <div id="question-area"></div>
    <div id="response-area"></div>
  </div>
  <script>
    // Music controls â€“ play as soon as *any* button is clicked
    const music = document.getElementById('bgmusic');
    let musicStarted = false;
    function startMusic() {
      if (!musicStarted) {
        music.volume = 1.0;
        music.currentTime = 0;
        music.muted = false;
        music.play();
        musicStarted = true;
        document.querySelector('.music-btn').textContent = "ðŸ”‡ Pause";
      } else {
        music.pause();
        musicStarted = false;
        document.querySelector('.music-btn').textContent = "ðŸ”Š Play Birthday Song";
      }
    }
    // Also auto-start music when ANY question button is pressed (best effort)
    function startMusicOnce() {
      if (!musicStarted) {
        startMusic();
      }
    }

    // Question logic with growing "Yes" button if "No" is clicked
    let yesSizeTimes = 0;

    function showQuestion() {
      document.getElementById('start-btn').style.display = 'none';
      document.getElementById('question-area').innerHTML = renderQuestion();
      document.getElementById('response-area').innerHTML = '';
      startMusicOnce();
    }

    function renderQuestion() {
      // When yesSizeTimes >= 3, hide the "No" button and make "Yes" HUMONGOUS
      const yesBtnClass = yesSizeTimes === 0 ? 'qbtn' :
                        (yesSizeTimes < 3 ? 'qbtn bigger' : 'qbtn huge');
      const noBtnClass  = yesSizeTimes < 3 ? 'qbtn' : 'qbtn hide';

      return `
        <div class="question">
          <div class="teddies-row">ðŸ§¸ðŸ§¸ðŸ§¸</div>
          <strong>Are you ready for your birthday surprise?</strong><br>
          <button class="${yesBtnClass}" id="yes-btn" onclick="handleAnswer('yes')">Yes</button>
          <button class="${noBtnClass}" id="no-btn" onclick="handleAnswer('no')">No</button>
          <div class="teddies-row">ðŸ§¸ðŸ§¸ðŸ§¸</div>
        </div>
      `;
    }

    function handleAnswer(ans) {
      startMusicOnce();
      if(ans === 'yes') {
        document.getElementById('question-area').innerHTML = '';
        showConfetti();
        document.getElementById('response-area').innerHTML = `
          <div class="response">
            ðŸŽ‰ Yay! Hereâ€™s your surprise:<br>
            <b>I love you endlessly.<br>
            May this year bring you all the happiness you deserve!
            <div style="font-size:48px;margin-top:10px;">ðŸ§¸ðŸ§¸ðŸ§¸</div>
            </b><br>
            ðŸ’•<br><br>
            <span style="font-size:42px;">ðŸŒŸðŸŽˆðŸŽ‚</span>
          </div>
        `;
      } else {
        yesSizeTimes++;
        document.getElementById('question-area').innerHTML = renderQuestion();
        if (yesSizeTimes < 3) {
          document.getElementById('response-area').innerHTML = `
            <div class="response">
              Oh no! ðŸ˜œ<br>
              The "Yes" button really wants your attention... (Look at the ðŸ§¸ cheering for you!)
            </div>
          `;
        } else {
          document.getElementById('response-area').innerHTML = `
            <div class="response">
              ðŸ˜‚ Now the "Yes" button is just too cute to resist! 
            </div>
          `;
        }
      }
    }

    // Simple confetti pop (now with teddy emoji and others!)
    function showConfetti() {
      const confettiEmojis = ["ðŸ’–","ðŸŽ‰","âœ¨","ðŸŽˆ","ðŸŽ€","ðŸ¥³","ðŸ§¸"];
      for(let i=0; i<26; i++) {
        let conf = document.createElement("div");
        conf.className = "confetti";
        conf.style.left = Math.random()*90 + "%";
        conf.style.fontSize = (22+Math.random()*18) + "px";
        conf.style.animationDuration = (1.2+Math.random()*0.8) + "s";
        conf.textContent = confettiEmojis[Math.floor(Math.random()*confettiEmojis.length)];
        document.body.appendChild(conf);
        setTimeout(()=>{ conf.remove(); }, 1700);
      }
    }
  </script>
</body>
</html>
